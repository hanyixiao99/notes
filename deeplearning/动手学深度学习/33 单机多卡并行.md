# 33 单机多卡并行

一台机器可以安装多个GPU（1-16）

在训练和预测时，我们将一个小批量计算切分到多个GPU上来达到加速目的

常用切分方案有

- 数据并行
- 模型并行
- 通道并行

## 数据并行 vs. 模型并行

数据并行：将小批量分成n块，每个GPU拿到完整参数计算一块数据的梯度

- 通常性能更好

模型并行：将模型分成n块，每个GPU拿到一块模型计算它的前向和方向结果

- 通常用于模型大到单GPU放不下

## 数据并行

<img src="/Users/hanyixiao/Library/Application Support/typora-user-images/截屏2021-12-14 10.58.43.png" alt="截屏2021-12-14 10.58.43" style="zoom:50%;" />